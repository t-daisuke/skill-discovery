---
name: skill-discovery
description: セッションログを分析してスキル化の機会を発見・提案します。
allowed-tools: Bash
---

# スキル発見スキル

以下のセッションデータを分析して、スキル化できるパターンを発見してください。

## セッションデータ

!`~/.claude/skills/skill-discovery/scripts/collect-session-data.sh $ARGUMENTS`

## 分析タスク

**「指示→操作」のペアからパターンを検出してください:**

1. **類似指示パターン**: 同じような仕事の指示が繰り返されている
   - 例: 「PRを作って」「コミットして」が毎回発生
   - 同義語や言い換えも考慮（「プルリク」「PR」「pull request」など）

2. **操作シーケンスパターン**: 特定の指示に対して同じ操作セットが実行される
   - 例: 「PR作成」指示 → diff確認→add→commit→push→gh pr create
   - 3回以上同じパターンが現れたら報告

3. **プロジェクト横断パターン**: 異なるプロジェクトで同じ「指示→操作」が繰り返される
   - 例: どのプロジェクトでも「テスト実行」→ npm test or go test
   - 技術スタック別の共通パターンを探す

4. **定型作業パターン**: 毎日/毎回実行される定型作業
   - 例: セッション開始時にgit pullする、終了時にpushする
   - 時間帯や頻度に注目

## 出力形式

以下の形式でスキル化提案レポートを出力してください:

```markdown
# スキル化提案レポート

## 高優先度（スキル化推奨）

### パターン: [パターン名]
- **検出した指示例**: 「PRを作って」「プルリクお願い」など
- **対応する操作シーケンス**:
  1. git diff で差分確認
  2. git add で staging
  3. git commit でコミット
  4. git push でプッシュ
  5. gh pr create でPR作成
- **検出回数**: N回（M個のプロジェクトで）
- **スキル化案**:
  - 名前: `create-pr`
  - 概要: 差分確認からPR作成まで一括実行
  - 期待効果: 毎回の手動指示が不要に

## 中優先度（検討推奨）

### パターン: ...

## 低優先度（参考情報）

### パターン: ...

## 統計サマリー

- 分析セッション数: X
- 検出パターン数: Y
- スキル化推奨: Z件
```

## 分析のコツ

- **頻度重視**: 3回以上繰り返されるパターンに注目
- **手間重視**: 操作ステップが多いほどスキル化の価値が高い
- **汎用性重視**: プロジェクト横断で使えるパターンを優先
- **既存スキル確認**: 既にスキル化されているものは除外（nippo, auto-commit-push等）

## 引数

- `/skill-discovery` - 今日のセッションを分析
- `/skill-discovery yesterday` - 昨日のセッションを分析
- `/skill-discovery 2026-01-20` - 指定日のセッションを分析
- `/skill-discovery week` - 直近7日間のセッションを分析（推奨）

## セキュリティ注意

- パスワード、トークン、APIキーは自動的にフィルタリングされます
- レポート出力時も機密情報を含めないでください
